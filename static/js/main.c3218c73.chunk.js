(this.webpackJsonp724project=this.webpackJsonp724project||[]).push([[0],{21:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){},39:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},42:function(e,t,c){"use strict";c.r(t);var n=c(2),s=c.n(n),a=c(23),r=c.n(a),i=c(3),o=c(20),j=c(5),l=c(10),b=(c(30),c(31),c(11)),d=c(4),u=(c(32),c(24)),h=c(1),O=Object(n.createContext)(),p=function(e){var t=Object(n.useState)("https://jqobw5w2ef.execute-api.ap-southeast-1.amazonaws.com/UserAuthentication"),c=Object(d.a)(t,1)[0],s=Object(n.useState)("https://jqobw5w2ef.execute-api.ap-southeast-1.amazonaws.com/TransactionUsers"),a=Object(d.a)(s,1)[0],r=Object(n.useState)("https://jqobw5w2ef.execute-api.ap-southeast-1.amazonaws.com/TransactionCheckURL"),i=Object(d.a)(r,1)[0];return Object(h.jsx)(O.Provider,{value:{authUrl:c,transactionUsersUrl:a,transactionCheckURL:i},children:e.children})},x=Object(n.createContext)(),m=function(e){var t=Object(n.useState)({userid:"no data",email:"no data"}),c=Object(d.a)(t,2),s=c[0],a=c[1];return Object(h.jsx)(x.Provider,{value:{thisUser:s,setThisUser:a},children:e.children})};var g=function(e){var t=Object(n.useContext)(O).transactionCheckURL,c=Object(n.useContext)(x),s=c.thisUser,a=(c.setThisUser,Object(n.useState)(!1)),r=Object(d.a)(a,2),o=r[0],j=r[1],l=Object(n.useState)(""),p=Object(d.a)(l,2),m=p[0],g=p[1],f=Object(n.useState)({action:"Update",usersseqno:s.seqno,pageurl:"",noticemail:s.email}),v=Object(d.a)(f,2),y=v[0],A=v[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("main",{id:"Dashboard",children:[Object(h.jsx)("h1",{children:"Dashboard"}),Object(h.jsxs)("section",{children:[Object(h.jsxs)("p",{children:["welcome ",s.userid]}),Object(h.jsx)("p",{children:s.email}),Object(h.jsxs)("p",{children:["seqno: ",Object(h.jsx)("span",{children:s.seqno})]}),Object(h.jsxs)("div",{className:"action-card",onClick:function(e){return j(!o)},children:[Object(h.jsxs)("div",{className:"top-div",children:[Object(h.jsx)(u.a,{}),Object(h.jsx)("h1",{children:"\u76e3\u63a7\u7db2\u9801\u5167\u5bb9"})]}),Object(h.jsx)("p",{children:"\u53ef\u8a2d\u5b9a\u7570\u52d5\u9700\u8981\u5f8c\u7aef\u76e3\u63a7\u7db2\u9801\u5167\u5bb9\u7684pageurl"})]}),Object(h.jsx)("div",{style:{display:o?"block":"none"},children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(y),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(y)}).then((function(e){return console.log(e),e.json()})).then((function(e){console.log(e),g(e.result)})).catch((function(e){return console.error(e)}))},children:[Object(h.jsx)("input",{type:"url",name:"pageurl",value:y.pageurl,onChange:function(e){A(Object(i.a)(Object(i.a)({},y),{},Object(b.a)({},e.target.name,e.target.value)))},required:!0}),Object(h.jsx)("input",{type:"submit",value:"submit"}),m.length>0&&Object(h.jsx)("p",{style:{color:-1!==m.toLowerCase().indexOf("ok")?"green":"red"},children:m})]})})]})]})})};var f=function(e){var t=Object(n.useState)({name:"hello",date:"today"}),c=Object(d.a)(t,2),s=c[0];return c[1],Object(h.jsxs)("main",{children:["home",Object(h.jsx)("button",{onClick:function(t){console.log("click redirect button"),e.history.push({pathname:"/app",state:s})},children:"redirect"})]})},v=(c(21),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAAApCAMAAAAbOBfqAAAAAXNSR0IB2cksfwAAAAlwSFlzAAASdAAAEnQB3mYfeAAAAVlQTFRFAAAAqo3FqYzEqo3FqYzEc0Ogc0Ogc0Ofc0OfVRqLVRqLVRqLjGSw2s3m6+Tx1MXifU+mtZvN59/vtJrMZjGXw67W1snjiGCuk2617OXy////5dztgleqwqzV+/n8wazVaDSY0cLg6ODvj2mzkm216+XxwKvUj2iy//7//Pv9/f3+/v3++vn8/fz9/v7+6+Xy+ff70cHgxbHYy7nc597v7ObyuKDPsZfK6uPxyLTayLXa0sLgybbavKXSh16t5t3uimGvrpHHzbvdbTqbbzydkmy1WSCOYCiSwazUkWu0bDmbuaDP9vP50MDf6eHwspfKs5rLspnKnXy8eEqjsJbJsJXJdUWgrJDGn369oYG/h12tWyKPWiGOVx2NVx2MkWuzVhyMWiCOVxyMWB+NVRuLVRqLVRqLXyeSWiGPtZvM597u1sjjiF+tVRqLVRqL1MXilXG31MXiuKDP7NEqSAAAAHN0Uk5TAE+YmEmF//96hf96//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////914PP//////+9rmv9cmBRQKqQAAAGJSURBVHic7ZdXV8JAEEaRaLDF3sWGICp2RVFUrLErKooKNuy9/P8HdxZTmYiJBD2e3LMPM/l2z2X2ibXZskSOnWFkyy4soWIY9QZ95FJLHsuyDmk5kotlhUaRwled5FNLQaG5FFkW45ZiriSV0jKIyiuQqLIKomokkVFTq7LU1Tek0uiEqKkZiVpaIWpDEhmudpXF7dFn6fiWxfvLs3R2UboRi68H6MVm8dFDfVAmz6OzuPuF/QODQ4ThEcTiHx0jcJglME4OTfihDML5SfzGJMsU9NOYJTQD/Sx2Y3PzpF0IQrnIk3IJvzGdFvUsuOWnsywbm8Wjz2JsFstiWdJZVlYJayZb1rkNwqbJFhmWJUuWrfAn2zvQ70ZIubevtATCIlFqiYr9AbUcQnkElhhUEbWFj4nEoT+m5YnS4jqVdp1BJLXnCdIm4lBeQHJJv/IqyxfILN40W1H+n+XqWoubW9h1dy/8V3x4hP5Jcz/Oc5r304tT+7dlDsui2/Kq/U7MHG/v2m/eP8gHzVlFLf8Qm90AAAAASUVORK5CYIIZdQAAAABJRU5ErkJggg==");var y=function(e){return Object(h.jsxs)("nav",{children:[Object(h.jsx)("a",{href:"/",children:Object(h.jsx)("img",{src:v,alt:"logo"})}),Object(h.jsxs)("div",{className:"menu",children:[Object(h.jsx)(l.c,{exact:!0,to:"/",activeClassName:"active-link",children:"home"}),Object(h.jsx)(l.c,{exact:!0,to:"/login",activeClassName:"active-link",children:"login"}),Object(h.jsx)(l.c,{exact:!0,to:"/register",activeClassName:"active-link",children:"register"})]})]})};var A=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)("h1",{children:"404 page not found"}),Object(h.jsx)("button",{onClick:function(t){e.history.push("/")},children:"go to home page"})]})};c(39);var C=function(e){var t=Object(n.useContext)(O),c=(t.authUrl,t.transactionUsersUrl),s=Object(n.useState)({userid:"",password:""}),a=Object(d.a)(s,2),r=a[0],o=a[1],j=Object(n.useState)(null),l=Object(d.a)(j,2),u=l[0],p=l[1],x=Object(n.useState)(""),m=Object(d.a)(x,2),g=m[0],f=m[1],v=function(e){o(Object(i.a)(Object(i.a)({},r),{},Object(b.a)({},e.target.name,e.target.value))),g.length>0&&f("")};return Object(h.jsx)("main",{id:"Login",children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log(r)},children:[Object(h.jsx)("h2",{children:"Login"}),null===u?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{name:"userid",type:"text",placeholder:"user id",value:r.userid,onChange:v,required:!0}),Object(h.jsx)("input",{type:"submit",value:"next",onClick:function(e){console.log("click userid button"),console.log(e),e.target.disabled=!0,fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"Query",userid:r.userid})}).then((function(e){return e.json()})).then((function(t){console.log(t),t.length>0?(p(t),e.target.disabled=!1):f("wrong userid")})).catch((function(e){return console.error(e)}))},disabled:g.length>0})]}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{name:"password",type:"password",placeholder:"password",value:r.password,onChange:v,required:!0}),Object(h.jsx)("input",{type:"submit",value:"next",onClick:function(){r.password!==u[0].password?f("worng password"):(f("Login Successfully"),localStorage.setItem("value",JSON.stringify(r)),localStorage.setItem("userid",r.userid),setTimeout((function(){e.history.push({pathname:"/app"})}),500))},disabled:g.length>0})]}),g.length>0&&Object(h.jsx)("h1",{className:"alert",style:{background:g.toLowerCase().indexOf("ok")>0||g.toLowerCase().indexOf("success")>0?"var(--green)":"var(--red)"},children:g}),Object(h.jsx)("a",{href:"#",children:"forget password??"})]})})};c(40);var S=function(e){return Object(h.jsxs)("section",{className:"personal-info-inputs",children:[Object(h.jsxs)("div",{className:"input-div",children:[Object(h.jsxs)("label",{children:[Object(h.jsxs)("p",{children:["user id",Object(h.jsx)("span",{children:"*"})]}),Object(h.jsx)("input",{name:"userid",type:"text",placeholder:"",onChange:e.changeInput,required:!0})]}),Object(h.jsxs)("label",{children:[Object(h.jsxs)("p",{children:["password",Object(h.jsx)("span",{children:"*"})]}),Object(h.jsx)("input",{name:"password",type:"password",placeholder:"",onChange:e.changeInput,required:!0})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"company"}),Object(h.jsx)("input",{name:"company",type:"text",placeholder:"",onChange:e.changeInput})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"user name"}),Object(h.jsx)("input",{name:"username",type:"text",placeholder:"",onChange:e.changeInput})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"title"}),Object(h.jsx)("input",{name:"title",type:"text",placeholder:"",onChange:e.changeInput})]}),Object(h.jsxs)("label",{children:[Object(h.jsxs)("p",{children:["email",Object(h.jsx)("span",{children:"*"})]}),Object(h.jsx)("input",{name:"email",type:"email",placeholder:"",onChange:e.changeInput,required:!0})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"birthday"}),Object(h.jsx)("input",{name:"birthday",type:"date",placeholder:"",onChange:e.changeInput})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"gender"}),Object(h.jsxs)("select",{name:"gender",onChange:e.changeInput,defaultValue:"",children:[Object(h.jsx)("option",{value:""}),Object(h.jsx)("option",{value:"m",children:"male"}),Object(h.jsx)("option",{value:"f",children:"female"})]})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"telephone"}),Object(h.jsx)("input",{name:"telephone",type:"tel",placeholder:"",onChange:e.changeInput})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"mobile"}),Object(h.jsx)("input",{name:"mobile",type:"tel",placeholder:"",onChange:e.changeInput})]})]}),Object(h.jsxs)("div",{className:"address-div",children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"zipcode"}),Object(h.jsx)("input",{name:"zipcode",type:"text",placeholder:"",onChange:e.changeInput})]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("p",{children:"address"}),Object(h.jsx)("input",{name:"address",type:"text",placeholder:"",onChange:e.changeInput})]})]})]})};var k=function(e){var t=Object(n.useContext)(O).transactionUsersUrl,c=Object(n.useState)({}),s=Object(d.a)(c,2),a=s[0],r=s[1],o=Object(n.useState)(""),j=Object(d.a)(o,2),l=j[0],u=j[1],p=Object(n.useState)(0),x=Object(d.a)(p,2);return x[0],x[1],Object(n.useEffect)((function(){console.log(e.history),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"Query",userid:""})}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error(e)}))}),[]),Object(h.jsxs)("main",{id:"Register",children:[Object(h.jsxs)("div",{className:"top-div",children:[Object(h.jsx)("a",{href:"/",className:"logo",children:Object(h.jsx)("img",{src:v,alt:"logo"})}),Object(h.jsxs)("p",{className:"login",children:["Have an account??\xa0\xa0",Object(h.jsx)("a",{href:"/login",children:"Login"})]})]}),Object(h.jsxs)("form",{onSubmit:function(c){c.preventDefault();var n=Object(i.a)(Object(i.a)({},a),{},{action:"Add"});console.log(n),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(t){console.log(t),u(t.result.toLowerCase()),-1===t.result.toLowerCase().indexOf("ok")&&-1===t.result.toLowerCase().indexOf("success")||(localStorage.setItem("userid",a.userid),setTimeout((function(){e.history.push({pathname:"/app",state:t})}),500))})).catch((function(e){return console.error(e)}))},children:[Object(h.jsx)("h2",{children:"Sign Up for free 30 days trial!"}),Object(h.jsx)(S,{changeInput:function(e){r(Object(i.a)(Object(i.a)({},a),{},Object(b.a)({},e.target.name,e.target.value))),u("")},inputValue:a}),Object(h.jsx)("label",{children:Object(h.jsx)("input",{type:"submit",value:"sign up",disabled:l.length>0})}),l.length>0&&Object(h.jsx)("h1",{className:"alert",style:{background:-1!==l.indexOf("ok")||-1!==l.indexOf("success")?"var(--green)":"var(--red)"},children:l})]})]})},U=c(18),w=c(19);var N=function(e){var t=Object(n.useContext)(O).transactionUsersUrl,c=Object(n.useContext)(x),s=c.thisUser,a=c.setThisUser,r=Object(n.useState)(!1),i=Object(d.a)(r,2),o=i[0],j=i[1];return Object(n.useEffect)((function(){console.log(localStorage.getItem("userid")),null===localStorage.getItem("userid")&&e.history.goBack(),fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:"Query",userid:localStorage.getItem("userid")})}).then((function(e){return e.json()})).then((function(e){console.log(e),a(e[0])})).catch((function(e){return console.error(e)}))}),[]),Object(h.jsxs)("header",{className:"app-header",children:[Object(h.jsxs)("nav",{className:"app-nav",children:[Object(h.jsx)("a",{href:"/",children:Object(h.jsx)("img",{src:v,alt:"logo"})}),Object(h.jsx)("div",{className:"menu",children:Object(h.jsxs)("div",{className:"user-icon",onClick:function(e){j(!o)},children:[Object(h.jsx)(U.a,{}),Object(h.jsxs)("div",{className:"user-card",onClick:function(e){j(!1)},style:{display:o?"block":"none"},children:[Object(h.jsxs)("div",{className:"top-div",children:[Object(h.jsx)(U.a,{}),Object(h.jsx)("p",{children:s.userid}),Object(h.jsx)("p",{children:s.email})]}),Object(h.jsxs)("div",{className:"bottom-div",children:[Object(h.jsx)(l.b,{to:{pathname:"".concat(e.match.path,"/myaccount"),state:e.thisUser},children:"my account"}),Object(h.jsx)("a",{href:"/",onClick:function(){return localStorage.removeItem("userid")},children:"log out"})]})]})]})})]}),Object(h.jsxs)("nav",{className:"control-nav",children:[Object(h.jsxs)(l.c,{exact:!0,to:{pathname:"/app",state:e.thisUser},activeClassName:"control-nav-active",children:[Object(h.jsx)(w.a,{}),Object(h.jsx)("p",{children:"home"})]}),Object(h.jsxs)(l.c,{exact:!0,to:{pathname:"/app/myaccount",state:e.thisUser},activeClassName:"control-nav-active",children:[Object(h.jsx)(w.b,{}),Object(h.jsx)("p",{children:"my account"})]})]})]})};c(41);var q=function(e){var t=Object(n.useContext)(x).thisUser,c=Object(n.useState)(!1),s=Object(d.a)(c,2),a=s[0],r=s[1];return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("main",{id:"MyAccount",children:[Object(h.jsx)("h1",{children:"my account"}),Object(h.jsxs)("section",{className:"personal-info-div",children:[Object(h.jsxs)("h2",{children:["personal infomation",Object(h.jsx)("button",{onClick:function(e){return r(!a)},children:"update"})]}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:["user id: ",Object(h.jsx)("span",{children:t.userid})]}),Object(h.jsxs)("li",{children:["user name: ",Object(h.jsx)("span",{children:t.username})]}),Object(h.jsxs)("li",{children:["email: ",Object(h.jsx)("span",{children:t.email})]}),Object(h.jsxs)("li",{children:["company: ",Object(h.jsx)("span",{children:t.company})]}),Object(h.jsxs)("li",{children:["title: ",Object(h.jsx)("span",{children:t.title})]}),Object(h.jsxs)("li",{children:["telephone: ",Object(h.jsx)("span",{children:t.telephone})]}),Object(h.jsxs)("li",{children:["zipcode: ",Object(h.jsx)("span",{children:t.zipcode})]}),Object(h.jsxs)("li",{children:["address: ",Object(h.jsx)("span",{children:t.address})]})]}),a&&Object(h.jsx)("form",{children:Object(h.jsx)(S,{})})]}),Object(h.jsxs)("section",{children:[Object(h.jsx)("h2",{children:"account details"}),Object(h.jsxs)("ul",{children:[Object(h.jsxs)("li",{children:["membership: ",Object(h.jsx)("span",{children:t.usertype})]}),Object(h.jsxs)("li",{children:["membership account status: ",Object(h.jsx)("span",{children:t.enabled})]}),Object(h.jsxs)("li",{children:["uname: ",Object(h.jsx)("span",{children:t.name})]})]})]})]})})},I=["exact","path","component"],L=["exact","path","component"];var F=function(){var e=function(e){var t=e.exact,c=e.path,n=e.component,s=Object(o.a)(e,I);return Object(h.jsx)(j.a,Object(i.a)(Object(i.a)({exact:t,path:c},s),{},{render:function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(y,Object(i.a)({},e)),Object(h.jsx)(n,Object(i.a)({},e))]})}}))},t=function(e){e.exact;var t=e.path,c=e.component,n=Object(o.a)(e,L);return Object(h.jsx)(j.a,Object(i.a)(Object(i.a)({exact:!0,path:t},n),{},{render:function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(N,Object(i.a)({},e)),Object(h.jsx)(c,Object(i.a)({},e))]})}}))};return Object(n.useEffect)((function(){if(console.log("run App useEffect"),console.log("localStorge userid: "+localStorage.getItem("userid")),-1===window.location.hash.indexOf("app"))return console.log("not /app path, return, do not fetch"),void localStorage.removeItem("userid")}),[]),Object(h.jsx)("div",{className:"App",children:Object(h.jsx)(l.a,{children:Object(h.jsxs)(j.c,{children:[Object(h.jsx)(e,{exact:!0,path:"/",component:function(e){return Object(h.jsx)(f,Object(i.a)({},e))}}),Object(h.jsx)(j.a,{exact:!0,path:"/login",component:function(e){return Object(h.jsx)(C,Object(i.a)({},e))}}),Object(h.jsx)(j.a,{exact:!0,path:"/register",component:function(e){return Object(h.jsx)(k,Object(i.a)({},e))}}),Object(h.jsx)(t,{exact:!0,path:"/app",component:function(e){return Object(h.jsx)(g,Object(i.a)({},e))}}),Object(h.jsx)(t,{exact:!0,path:"/app/myaccount",component:function(e){return Object(h.jsx)(q,Object(i.a)({},e))}}),Object(h.jsx)(j.a,{path:"*",exact:!0,component:A})]})})})},T=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,43)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};r.a.render(Object(h.jsx)(s.a.StrictMode,{children:Object(h.jsx)(p,{children:Object(h.jsx)(m,{children:Object(h.jsx)(F,{})})})}),document.getElementById("root")),T()}},[[42,1,2]]]);
//# sourceMappingURL=main.c3218c73.chunk.js.map